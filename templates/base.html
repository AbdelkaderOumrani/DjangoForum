{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <title>ESI Forum - {% block title %}
    {% endblock title %}</title>

    <!-- Custom fonts for this template-->
    <link
      href="{% static 'vendor/fontawesome-free/css/all.min.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
      rel="stylesheet"
    />

    <!-- Custom styles for this template-->
    <link href="{% static 'css/sb-admin-2.min.css' %}" rel="stylesheet" />
    <link href="{% static 'css/custom.css' %}" rel="stylesheet" />
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    {% url 'new_post' as new_post %} 
    {% url 'edit_profile' as edit_profile %} 
        <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-bs4.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-bs4.js"></script>

  </head>

  <body id="page-top">
    {% block content %} {% endblock %}

    <!-- Logout Modal-->
    {% include 'partials/_logout_modal.html'%}
    
    <!-- Bootstrap core JavaScript-->
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

    <!-- Core plugin JavaScript-->
    <script src="{% static 'vendor/jquery-easing/jquery.easing.min.js' %}"></script>

    <!-- Custom scripts for all pages-->
    <script src="{% static 'js/sb-admin-2.min.js' %}"></script>
    <script src="{% static 'js/new_post.js' %}"></script>
    {% if request.path == new_post %}
 
        <script>
    /*Initialize Summernote Editor*/
$("#summernote").summernote({
  height: null, // set editor height
  minHeight: 100, // set minimum height of editor
  maxHeight: 500, // set maximum height of editor
  focus: false // set focus to editable area after initializing summernote
});
var markupStr = '{{values.post_body}}'
$('#summernote').summernote('code', markupStr);
/* END Initialize Summernote Editor*/
    </script>   
    {% endif %}

<script>
    {% if request.path == new_post  %}
    var markupStr = '{{values.post_body}}'
    $('#summernote').summernote('code', markupStr);
    {% else %}
        var markupStr = '{{post.body}}'
    $('#summernote').summernote('code', markupStr);
    {% endif %}
</script>

    {% if request.path == edit_profile %}
    <script src="{% static 'js/edit_profile.js' %}"></script> 
    {% endif %}
  </body>
</html>
